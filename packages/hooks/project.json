{
  "$schema": "../../node_modules/nx/schemas/project-schema.json",
  "projectType": "library",
  "sourceRoot": "packages/hooks/src",
  "targets": {
    "test": {
      "executor": "@nxrs/cargo:test",
      "options": {}
    },
    "lint": {
      "executor": "@nxrs/cargo:clippy",
      "options": {
        "fix": false,
        "failOnWarnings": true,
        "noDeps": true
      }
    },
    "semantic-release": {
      "executor": "@theunderscorer/nx-semantic-release:semantic-release",
      "options": {
        "plugins": [
          [
            "@google/semantic-release-replace-plugin",
            {
              "replacements": [
                {
                  "files": "Cargo.toml",
                  "from": "version = \".*\" # replace version",
                  "to": "version = \"${nextRelease.version}\" # replace version",
                  "results": {
                    "file": "Cargo.toml",
                    "hasChanged": true,
                    "numMatches": 1,
                    "numReplacements": 1
                  },
                  "countMatches": true
                }
              ]
            }
          ],
          [
            "@semantic-release/exec",
            {
              "verifyReleaseCmd": "cargo check",
              "publishCmd": "cargo publish"
            }
          ]
        ],
        "gitAssets": ["Cargo.toml", "../../Cargo.lock"],
        "github": true,
        "changelog": true,
        "npm": false,
        "tagFormat": "hooks-v${VERSION}"
      }
    }
  },
  "tags": []
}
